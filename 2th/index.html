<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="style/style.css">
        <link rel="stylesheet" type="text/css" href="style/font/iconfont.css">
        <script src="../3th/promisedemo.js" type="text/javascript"></script>    
        <script src="js/EventEmitter.js" type="text/javascript"></script> 
        <script src="js/main.js" type="text/javascript"></script>  
        <script src="../3th/learnpromise.js" type="text/javascript"></script>
    </head>
    <body>
        <div class="demo"></div>
        <div class="demo2"></div>
        <script>
            var demo = document.querySelector(".demo");
            //DanmuPlayer(demo, {opacity: 1, src: "../../pagination.mp4", defaultColor: "white", height: "400px", width: "600px"})
            var player1 = new DanmuPlayer(demo, {
                opacity: 1, 
                src: "../../shipin.mp4", 
                height: "500px", width: "800px", 
                littleWindowHeight: "200px", 
                littleWindowWidth: "300px",
                littleWindowTop: "0",
                littleWindowRight: "0",
                useArray: true,
                arrayData: [{time: 10, text: "good"}],
                usePromise: true,
                promise: new Promise(function(resolve, reject){
                    resolve([{time: 18, text: "bad"}]);
                })
            });
            player1.addHandler("floatWindowMove", function(e){
                e.preventDefault();
                //console.log("我被移动了");
                console.log(e);
            });
            player1.addHandler("windowClosed", function(){console.log("我被关闭了")});
            player1.addHandler("danmuSent", function(e){console.log(e.self)});
            
            /*var demo2 = document.querySelector(".demo2");
            var player2 = new DanmuPlayer(demo2, {
                opacity: 1, 
                src: "../../pagination.mp4", 
                height: "400px", width: "600px", 
                littleWindowHeight: "200px",
                littleWindowWidth: "300px",
                littleWindowTop: "0",
                littleWindowRight: "0"
            })*/
        </script>
    </body>
</html>